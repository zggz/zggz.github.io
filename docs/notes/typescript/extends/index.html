<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="extends # 官方文档 接口继承和类型判断 继承扩展 # 1interface Person{ 2 name: string 3} 4 5interface Sudent extends Person{ 6 age: number 7} 8// Student => {name: string ge:number} 泛型约束 # 在使用泛"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Extends"><meta property="og:description" content="extends # 官方文档 接口继承和类型判断 继承扩展 # 1interface Person{ 2 name: string 3} 4 5interface Sudent extends Person{ 6 age: number 7} 8// Student => {name: string ge:number} 泛型约束 # 在使用泛"><meta property="og:type" content="article"><meta property="og:url" content="https://zggz.github.io/docs/notes/typescript/extends/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-05-07T22:05:55+08:00"><meta property="article:modified_time" content="2022-05-07T22:54:03+08:00"><title>Extends | zggz Book</title><link rel=manifest href=../../../../manifest.json><link rel=icon href=../../../../favicon.png type=image/x-icon><link rel=stylesheet href=../../../../book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=../../../../flexsearch.min.js></script>
<script defer src=../../../../en.search.min.60798ea646c4884b37c26358f1033c235632df9542ff40a0c2db89ac44e31257.js integrity="sha256-YHmOpkbEiEs3wmNY8QM8I1Yy35VC/0CgwtuJrETjElc=" crossorigin=anonymous></script>
<script defer src=../../../../sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=../../../../><img src=../../../../logo.gif alt=Logo><span>zggz Book</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>一些杂记</span><ul><li><input type=checkbox id=section-4c964762b3b267fdcc23a22cac7aed2d class=toggle>
<label for=section-4c964762b3b267fdcc23a22cac7aed2d class="flex justify-between"><a role=button>Tools</a></label><ul><li><a href=../../../../docs/notes/tools/terminal/>Terminal</a></li><li><a href=../../../../docs/notes/tools/git/>git命令</a></li><li><a href=../../../../docs/notes/tools/vim/>vim常用命令</a></li></ul></li><li><input type=checkbox id=section-abd0edbedca13f9fb0af6775065b5a7a class=toggle checked>
<label for=section-abd0edbedca13f9fb0af6775065b5a7a class="flex justify-between"><a role=button>typescript学习笔记</a></label><ul><li><a href=../../../../docs/notes/typescript/extends/ class=active>Extends</a></li><li><a href=../../../../docs/notes/typescript/record/>Record</a></li><li><a href=../../../../docs/notes/typescript/keyof/>Keyof</a></li></ul></li></ul></li></ul><ul><li><a href=../../../../posts/>其他</a></li><li><a href=../../../../readbook/>读书小计</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../../../../svg/menu.svg class=book-icon alt=Menu></label>
<strong>Extends</strong>
<label for=toc-control><img src=../../../../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#extends>extends</a><ul><li><a href=#继承扩展>继承扩展</a></li><li><a href=#泛型约束>泛型约束</a></li><li><a href=#条件判断>条件判断</a><ul><li><a href=#分配条件类型>分配条件类型</a></li><li><a href=#特殊never>特殊never</a></li><li><a href=#阻止分配>阻止分配</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=extends>extends
<a class=anchor href=#extends>#</a></h1><p><a href=https://www.typescriptlang.org/docs/handbook/2/objects.html#extending-types>官方文档</a></p><p>接口继承和类型判断</p><h2 id=继承扩展>继承扩展
<a class=anchor href=#%e7%bb%a7%e6%89%bf%e6%89%a9%e5%b1%95>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#ff79c6>interface</span> Person{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>    name: <span style=color:#8be9fd>string</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span><span style=color:#ff79c6>interface</span> Sudent <span style=color:#ff79c6>extends</span> Person{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>    age: <span style=color:#8be9fd>number</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span><span style=color:#6272a4>// Student =&gt; {name: string ge:number}
</span></span></span></code></pre></div><h2 id=泛型约束>泛型约束
<a class=anchor href=#%e6%b3%9b%e5%9e%8b%e7%ba%a6%e6%9d%9f>#</a></h2><ul><li>在使用泛型的时候，可以通过extends来对类型参数的限制；</li><li>以下的案例可以限制obj传入的对象必须包含name字段</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#8be9fd;font-style:italic>function</span> getName&lt;<span style=color:#ff79c6>T</span> <span style=color:#50fa7b>extends</span> {<span style=color:#50fa7b>name</span>:<span style=color:#50fa7b>string</span>}, <span style=color:#50fa7b>K</span> <span style=color:#50fa7b>extends</span> <span style=color:#50fa7b>keyof</span> <span style=color:#50fa7b>T</span>&gt;(obj:<span style=color:#8be9fd>T</span>, key:<span style=color:#8be9fd>K</span>){
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>    <span style=color:#ff79c6>return</span> obj[key]
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>}
</span></span></code></pre></div><h2 id=条件判断>条件判断
<a class=anchor href=#%e6%9d%a1%e4%bb%b6%e5%88%a4%e6%96%ad>#</a></h2><ul><li>当<code>extends</code>和<code>type</code>一起使用的时候，会作为条件判断</li><li>如果extends前面的类型能够赋值给extends后面的类型，那么表达式判断为真，否则为假。</li><li><code>extends</code>前面的类型一定包含后一个类型</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#ff79c6>interface</span> Point{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    x: <span style=color:#8be9fd>number</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    y: <span style=color:#8be9fd>number</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span><span style=color:#ff79c6>interface</span> PointY{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    y:<span style=color:#8be9fd>number</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span><span style=color:#ff79c6>type</span> P <span style=color:#ff79c6>=</span> Point <span style=color:#ff79c6>extends</span> PointY <span style=color:#ff79c6>?</span> <span style=color:#f1fa8c>&#39;string&#39;</span> <span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;number&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#6272a4>// P =&gt; string
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#6272a4>// 满足Point 一定能满足 PointY
</span></span></span></code></pre></div><h3 id=分配条件类型>分配条件类型
<a class=anchor href=#%e5%88%86%e9%85%8d%e6%9d%a1%e4%bb%b6%e7%b1%bb%e5%9e%8b>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#ff79c6>type</span> P&lt;<span style=color:#ff79c6>T</span>&gt; <span style=color:#ff79c6>=</span> T <span style=color:#ff79c6>extends</span> <span style=color:#f1fa8c>&#39;x&#39;</span> <span style=color:#ff79c6>?</span> <span style=color:#8be9fd>string</span> <span style=color:#ff79c6>:</span> <span style=color:#8be9fd>number</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#ff79c6>type</span> A3 <span style=color:#ff79c6>=</span> P<span style=color:#ff79c6>&lt;</span><span style=color:#f1fa8c>&#39;x&#39;</span> <span style=color:#ff79c6>|</span> <span style=color:#f1fa8c>&#39;y&#39;</span><span style=color:#ff79c6>&gt;</span>  <span style=color:#6272a4>// A3的类型是 string | number
</span></span></span></code></pre></div><p>这里实际上类似于分配律 <code>P&lt;'x' | 'y'> => P&lt;'x'> | P&lt;'y'></code></p><h3 id=特殊never>特殊never
<a class=anchor href=#%e7%89%b9%e6%ae%8anever>#</a></h3><p>never是所有类型的子类型</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#ff79c6>type</span> A1 <span style=color:#ff79c6>=</span> <span style=color:#8be9fd>never</span> <span style=color:#ff79c6>extends</span> <span style=color:#f1fa8c>&#39;x&#39;</span> <span style=color:#ff79c6>?</span> <span style=color:#8be9fd>string</span> <span style=color:#ff79c6>:</span> <span style=color:#8be9fd>number</span>; <span style=color:#6272a4>// string
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#6272a4></span><span style=color:#ff79c6>type</span> P&lt;<span style=color:#ff79c6>T</span>&gt; <span style=color:#ff79c6>=</span> T <span style=color:#ff79c6>extends</span> <span style=color:#f1fa8c>&#39;x&#39;</span> <span style=color:#ff79c6>?</span> <span style=color:#8be9fd>string</span> <span style=color:#ff79c6>:</span> <span style=color:#8be9fd>number</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#ff79c6>type</span> A2 <span style=color:#ff79c6>=</span> P&lt;<span style=color:#ff79c6>never</span>&gt; <span style=color:#6272a4>// never
</span></span></span></code></pre></div><h3 id=阻止分配>阻止分配
<a class=anchor href=#%e9%98%bb%e6%ad%a2%e5%88%86%e9%85%8d>#</a></h3><p>将泛型使用[]括起来，防止分配</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>  <span style=color:#ff79c6>type</span> P&lt;<span style=color:#ff79c6>T</span>&gt; <span style=color:#ff79c6>=</span> [T] <span style=color:#ff79c6>extends</span> [<span style=color:#f1fa8c>&#39;x&#39;</span>] <span style=color:#ff79c6>?</span> <span style=color:#8be9fd>string</span> <span style=color:#ff79c6>:</span> <span style=color:#8be9fd>number</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>  <span style=color:#ff79c6>type</span> A1 <span style=color:#ff79c6>=</span> P<span style=color:#ff79c6>&lt;</span><span style=color:#f1fa8c>&#39;x&#39;</span> <span style=color:#ff79c6>|</span> <span style=color:#f1fa8c>&#39;y&#39;</span><span style=color:#ff79c6>&gt;</span> <span style=color:#6272a4>// number
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#6272a4></span>  <span style=color:#ff79c6>type</span> A2 <span style=color:#ff79c6>=</span> P&lt;<span style=color:#ff79c6>never</span>&gt; <span style=color:#6272a4>// string
</span></span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/zggz/zggz/commit/75ddd30a1ad784aeb2a9204b28e767e0ab16a56a title="Last modified by qin | May 7, 2022" target=_blank rel=noopener><img src=../../../../svg/calendar.svg class=book-icon alt=Calendar>
<span>May 7, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/zggz/zggz/blob/main/content/docs/notes/typescript/extends.md target=_blank rel=noopener><img src=../../../../svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#extends>extends</a><ul><li><a href=#继承扩展>继承扩展</a></li><li><a href=#泛型约束>泛型约束</a></li><li><a href=#条件判断>条件判断</a><ul><li><a href=#分配条件类型>分配条件类型</a></li><li><a href=#特殊never>特殊never</a></li><li><a href=#阻止分配>阻止分配</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>